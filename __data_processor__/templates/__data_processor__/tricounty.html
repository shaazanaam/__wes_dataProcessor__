{% extends "base_generic.html" %}

{% block title %}Tri-County Transformation Success{% endblock %}

{% block content %}
<style>
    .pagination {
      margin-top: 20px;
      text-align: center;
    }
  
    .pagination a {
      margin: 0 5px;
      text-decoration: none;
      color: rgb(0, 38, 255);
    }
  
    .pagination span {
      margin: 0 5px;
      color: grey;
    }
  
    .pagination a:hover {
      text-decoration: underline;
    }
</style>

<h1>{{ message }}</h1>

<div id="content">
    <p>{{ details }}</p>
    <a href="/data_processor/">Back to Home</a>
    <br />
    <a href="/data_processor/upload/">Upload Another File</a>

    <br />
    <h2>{{transformation_type}} Data</h2>
    <table border="1">
        <thead>
            <tr>
                <th>YEAR</th>
                <th>YEAR_RANGE</th>
                <th>PLACE</th>
                <th>GROUP_BY</th>
                <th>GROUP_BY_VALUE</th>
                <th>STUDENT_COUNT</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in data %}
            <tr>
                <td>{{ entry.year }}</td>
                <td>{{ entry.year_range }}</td>
                <td>{{ entry.place }}</td>
                <td>{{ entry.group_by }}</td>
                <td>{{ entry.group_by_value }}</td>
                <td>{{ entry.student_count }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">No data found</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Pagination Controls-->
<div class="pagination">
    {% if data.has_previous %}
       <a href="?page={{data.previous_page_number}}">Previous</a>
    {% else %}
       <span>Previous</span>
    {% endif %}

    <span> Page {{data.number}} of {{data.paginator.num_pages}}</span>

    {% if data.has_next %}
       <a href="?page={{data.next_page_number}}">Next</a>
    {% else %}
       <span>Next</span>
    {% endif %}
</div>

{% endblock %}
